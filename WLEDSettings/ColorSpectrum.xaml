<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="WLEDSettings.ColorSpectrum"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:muxc="using:Microsoft.UI.Xaml"
    xmlns:local="using:WLEDSettings"
    Width="200" 
    Height="200">

    <!-- Le spectre est rendu dans un WriteableBitmap et affiché par Image -->
    <Grid x:Name="RootGrid" CornerRadius="8">
        <Border x:Name="ClipBorder" CornerRadius="8">
            <Grid>
                <Image x:Name="PART_SpectrumImage"
                       Stretch="Fill"
                       IsHitTestVisible="False"/>

                <!-- Surface d'entrée pour la souris/tactile -->
                <Border x:Name="PART_HitSurface"
                        Background="Transparent"
                        PointerPressed="OnPointerPressed"
                        PointerMoved="OnPointerMoved"
                        PointerReleased="OnPointerReleased"/>

                <!-- Indicateur de sélection -->
                <Canvas IsHitTestVisible="False">
                    <Ellipse x:Name="PART_Indicator"
                             Width="14" Height="14"
                             Stroke="White" StrokeThickness="2"
                             Fill="Transparent"
                             Visibility="Collapsed"/>
                </Canvas>
            </Grid>
        </Border>
    </Grid>
</UserControl>